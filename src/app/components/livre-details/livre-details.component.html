<section class="py-5" *ngIf="!loading">
  <div class="container px-4 px-lg-5 my-5 product-section">
    <div class="row gx-4 gx-lg-5 align-items-center">

      <div class="col-md-6 text-center">
        <img class="mb-5 mb-md-0 w-50" [src]="livre.Image ? 'http://localhost:50512' + livre.Image : 'assets/img/products/default.PNG'" [alt]="livre.Titre" />
      </div>

      <div class="col-md-6">
        <div class="small mb-1 text-muted">ISBN: {{ livre.Isbn }}</div>
        <h1 class="display-5 fw-bolder">{{ livre.Titre }}</h1>
        <div class="fs-5 mb-5">
          <span class="fw-bold text-success">{{ livre.Prix }} â‚¬</span>
        </div>
        <p class="lead">{{ livre.Description }}</p>
        <div class="d-flex">
          <input class="form-control text-center me-3" id="inputQuantity" type="number" value="1" min="1" style="max-width: 4rem" />
          <button class="btn btn-custom flex-shrink-0" type="button" (click)="addtocart(livre.Id)">
            <i class="bi-cart-fill me-1"></i>
            Ajouter au panier
          </button>
        </div>
          <div *ngIf="message" class="alert alert-success text-center mt-4" role="alert">
            {{ message }}
          </div>
      </div>
    </div>
  </div>
</section>

<section class="py-5 bg-light" *ngIf="livresSimilaires?.length">
  <div class="container px-4 px-lg-5 mt-5">
    <h2 class="fw-bolder mb-4 text-center">ðŸ“– Livres similaires</h2>
    <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-3 justify-content-center">

      <div class="col mb-5" *ngFor="let livreSim of livresSimilaires">
        <div class="card h-100 text-center shadow-sm">

          <div class="bg-dark d-flex justify-content-center align-items-center p-3" style="height: 250px;">
            <img
              [src]="livreSim.Image ? 'http://localhost:50512' + livreSim.Image : 'assets/img/products/default.PNG'"
              [alt]="livreSim.Titre"
              class="img-fluid rounded"
              style="max-height: 220px; object-fit: contain;"
            />
          </div>

          <div class="card-body p-4">
            <div class="text-center">
              <h5 class="fw-bolder text-light bg-dark py-2 rounded">{{ livreSim.Titre }}</h5>
              <p class="text-muted mb-1">{{ livreSim.Categorie }}</p>
              <span class="fw-bold text-success">{{ livreSim.Prix }} â‚¬</span>
            </div>
          </div>

          <div class="card-footer p-4 pt-0 border-top-0 bg-transparent text-center">
            <a class="btn btn-custom mt-auto" [routerLink]="['/product', livreSim.Id]">Voir le livre</a>
          </div>

        </div>
      </div>

    </div>
  </div>
</section>
